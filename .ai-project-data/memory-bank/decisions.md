# Архитектурные Решения (ADR)

| ID | Дата | Название | Статус | Контекст | Решение | Обоснование | Последствия | Теги |
|---|---|---|---|---|---|---|---|---|
| ADR-001 | 2024-12-19 | Выбор aiogram 3.x | Принято | Необходим современный фреймворк для Telegram Bot API | Использование aiogram 3.x | Нативная поддержка asyncio, современный FSM, активная поддержка сообщества | ✅ Высокая производительность, современные возможности Python ⚠️ Требует изучения новой версии API | #framework #telegram #core |
| ADR-002 | 2024-12-19 | SQLAlchemy 2.x + Alembic | Принято | Необходима надежная система управления БД | SQLAlchemy 2.x с Alembic для миграций | Современный async ORM, профессиональные миграции, поддержка множества СУБД | ✅ Надежность и масштабируемость, простота миграций ⚠️ Сложность настройки | #database #orm #migrations |
| ADR-003 | 2024-12-19 | Модульная архитектура сервисов | Принято | Необходимость разделения ответственности | Разделение на независимые сервисы в папке services/ | Принцип единственной ответственности, легкость тестирования | ✅ Чистая архитектура, простота поддержки ⚠️ Больше файлов для управления | #architecture #services #modularity |
| ADR-004 | 2024-12-19 | Gemini API как основной LLM | Принято | Выбор LLM провайдера для AI-персон | Google Gemini API как основной, OpenAI как fallback | Хорошее соотношение цена/качество, поддержка multimodal, высокие лимиты | ✅ Экономичность, современные возможности ⚠️ Зависимость от Google | #llm #ai #integration |
| ADR-005 | 2024-12-19 | SQLite для разработки | Принято | Простота настройки для локальной разработки | Использование SQLite для dev среды | Не требует установки сервера БД, простота миграций, быстрый старт | ✅ Простота разработки ⚠️ Не подходит для продакшена | #database #development |
| ADR-006 | 2024-12-19 | Telegram Stars для платежей | Принято | Необходима система монетизации | Интеграция Telegram Stars API | Нативная интеграция с Telegram, простота для пользователей, низкие комиссии | ✅ Удобство пользователей, надежность ⚠️ Привязка к экосистеме Telegram | #payments #monetization |